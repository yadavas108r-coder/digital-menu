<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Yadava's Admin Panel</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  /* Minimal admin CSS (kept compact) */
  body{font-family:Poppins,system-ui,Arial;background:#f6f7fb;margin:0;color:#111}
  header{background:linear-gradient(90deg,#ff6b6b,#ff8e8e);padding:12px 20px;color:#fff;display:flex;justify-content:space-between;align-items:center}
  .container{max-width:1100px;margin:22px auto;padding:0 16px}
  .cards{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:18px}
  .card{background:#fff;padding:18px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.06);text-align:center}
  .card h2{margin:0;color:#ff4b4b}
  .section{background:#fff;border-radius:10px;padding:18px;margin-bottom:18px;box-shadow:0 6px 18px rgba(0,0,0,.04)}
  h3{margin:0 0 12px 0;color:#222}
  form .row{display:flex;gap:12px;margin-bottom:10px}
  input[type=text],input[type=number],select,textarea{width:100%;padding:10px;border:1px solid #eee;border-radius:8px}
  button{background:linear-gradient(90deg,#ff6b6b,#ff8e8e);color:#fff;padding:10px 14px;border:0;border-radius:8px;cursor:pointer}
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px;border-bottom:1px solid #f0f0f0;text-align:left}
  thead th{background:#ff6b6b;color:#fff}
  .actions button{margin-right:6px}
  .image-preview{width:80px;height:80px;border-radius:8px;overflow:hidden;border:1px solid #eee}
  .flex{display:flex;gap:10px;align-items:center}
  @media (max-width:900px){.cards{grid-template-columns:repeat(2,1fr)}}
</style>
</head>
<body>
<header><div style="font-weight:700">üç¶ Yadava's Admin Panel</div><div><button onclick="loadDashboard()">Refresh</button></div></header>

<div class="container">
  <div class="cards">
    <div class="card"><h2 id="totalOrders">0</h2><p>Total Orders</p></div>
    <div class="card"><h2 id="totalSales">‚Çπ0</h2><p>Total Sales</p></div>
    <div class="card"><h2 id="todayOrders">0</h2><p>Today's Orders</p></div>
    <div class="card"><h2 id="pendingOrders">0</h2><p>Pending Orders</p></div>
  </div>

  <div class="section">
    <h3>Add Category</h3>
    <form id="categoryForm" onsubmit="return submitCategory(event)">
      <div class="row">
        <input type="text" id="catName" placeholder="Category Name" required />
        <input type="file" id="catImageFile" accept="image/*" />
      </div>
      <div style="display:flex;gap:10px;align-items:center">
        <div class="image-preview" id="catPreview">No image</div>
        <div><button type="submit">Upload Category</button></div>
      </div>
    </form>
    <hr style="margin:12px 0">
    <h3>Add Menu Item</h3>
    <form id="productForm" onsubmit="return submitProduct(event)">
      <div class="row">
        <input type="text" id="prodName" placeholder="Item Name" required />
        <input type="number" id="prodPrice" placeholder="Price ‚Çπ" step="0.01" required />
      </div>
      <div class="row">
        <input type="text" id="prodDesc" placeholder="Description" />
        <select id="prodCategory"></select>
      </div>
      <div class="row">
        <input type="file" id="prodImageFile" accept="image/*" />
        <select id="prodType"><option value="veg">Veg</option><option value="non-veg">Non-Veg</option></select>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <div class="image-preview" id="prodPreview">No image</div>
        <div><button type="submit">Add Menu Item</button></div>
      </div>
    </form>
  </div>

  <div class="section">
    <h3>Orders List</h3>
    <div id="ordersLoading">Loading orders...</div>
    <table id="ordersTable" style="display:none"><thead><tr><th>Time</th><th>Name</th><th>Phone</th><th>Table</th><th>Items</th><th>Total</th><th>Status</th><th>Actions</th></tr></thead><tbody id="ordersBody"></tbody></table>
  </div>

  <div class="section">
    <h3>Menu Editor</h3>
    <div id="menuLoading">Loading menu...</div>
    <table id="menuTable" style="display:none"><thead><tr><th>Item</th><th>Price</th><th>Image</th><th>Category</th><th>Type</th><th>Actions</th></tr></thead><tbody id="menuBody"></tbody></table>
  </div>

</div>

<!-- Bill Modal -->
<div id="billModal" style="display:none;position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.5);align-items:center;justify-content:center">
  <div style="background:#fff;padding:20px;border-radius:10px;width:420px;max-width:90%">
    <div id="billContent"></div>
    <div style="text-align:right;margin-top:12px"><button onclick="closeBill()">Close</button><button onclick="printBill()">Print</button></div>
  </div>
</div>

<script src="admin.js"></script>
</body>
</html>
